<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        #box {
            width: 100px;
            height: 100px;
            position: absolute;
            left: 0;
            top: 0;
            background: red;
        }
    </style>
</head>

<body>
    <div id="box"></div>
    <script>
        class Drag{
            constructor(id){
                this.disX = 0;
                this.disY = 0;
                this.box = document.getElementById(id);
            }
            init(){
                // let that = this;
                this.box.addEventListener('mousedown',this.down.bind(this));
            }
            down(ev,that){
                // console.log(this,this.box);
                this.disX = ev.pageX - this.box.offsetLeft;
                this.disY = ev.pageY - this.box.offsetTop;
                document.addEventListener('mousemove',this.m = this.move.bind(this));
                document.addEventListener('mouseup',this.u = this.up.bind(this));
            }
            move(ev){
                this.box.style.left = ev.pageX - this.disX + 'px';
                this.box.style.top = ev.pageY - this.disY + 'px';
            }
            up(){
                document.removeEventListener('mousemove',this.m);
                document.removeEventListener('mouseup',this.u);
            }
        }
        let t = new Drag('box');
        t.init();
    </script>
</body>

</html>